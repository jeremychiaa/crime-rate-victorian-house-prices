---
title: "Data Wrangling (Data Preprocessing)"
author: "Jeremy Jian Zhi Chia"
subtitle: Practical assessment 2
date: "25/09/2021"
output:
  html_notebook: default
  pdf_document: default
  html_document:
    df_print: paged
---


## **Setup**

```{r}

# Load the necessary packages required to reproduce the report. For example:

library(kableExtra)
library(magrittr)
library(dplyr)
library(tidyr)
library(readr)
library(readxl)
library(openxlsx)
library(ggplot2)
library(tools)

```


## **Student names, numbers and percentage of contributions**
```{r, echo=FALSE}

# Add your names, numbers and percentage of your contribution here.

na<- c("Jeremy Jian Zhi Chia")
no<- c("s3917515")
pc<- c("100%")

s<- data.frame(cbind(na,no,pc))
colnames(s)<- c("Student name", "Student number", "Percentage of contribution")

s %>% kbl(caption = "Group information") %>%
  kable_classic(full_width = F, html_font = "Cambria")

```
<br>
<br>

## **Executive Summary**

In your own words, provide a brief summary of the preprocessing. Explain the steps that you have taken to preprocess your data. Write this section last after you have performed all data preprocessing. (Word count Max: 300 words)
You may use bulleted lists like this:

* a
* b
* ....

<br>
<br>

## **Data**
Source 1:
Data Vic (https://discover.data.vic.gov.au/dataset/victorian-property-sales-report-median-house-by-suburb)

Description:
This dataset lists the percentage shift in median prices between quarters as well as the change over a 12-month period for Victorian houses.

Variables:
Suburb - All suburbs in Victoria, Austraalia
Jul-Sep 19 - Median house prices for that period
Oct-Dec 19 - Median house prices for that period
Jan-Mar 20 - Median house prices for that period
Apr-Jun 20 - Median house prices for that period
Jul-Sep 20 - Median house prices for that period
No of Sales Jul-Sep 20 - Number of house sales for that period
No of Sales YTD - Year to date number of house sales
Change % Jul-Sep 19 Jul-Sep 19 - Percentage change in median house price between two periods
Change % Apr-Jun 20 Jul-Sep 20 - Percentage change in median house price between two periods

Source 2: Crime Statistics Agency (https://www.crimestatistics.vic.gov.au/crime-statistics/historical-crime-data/download-data-3)
Description: There are five tables within this excel workbook. 
The datasets of interest are chosen from these five tables:
- The crime rate by principal offence, LGA and police service area dataset
- Criminal incidents by LGA and suburb dataset
- Criminal incidents by charge status and LGA dataset

Variables:


```{r}

# Import the data, provide your R codes here.

# House median prices dataset
house_medians <- read_excel("data/House_Medians3rdQtr2020.xls", skip = 1)

# Crime rate by principal offence, LGA and police service area dataset
crime_rate <- read_excel("data/Data_Tables_LGA_Criminal_Incidents_Year_Ending_September_2020.xlsx%3F8rMGzuMnVt5oC9mV_AAn_dmq1tfyPo9T=.xlsx", 
    sheet = "Table 02")

# Criminal incidents by LGA and suburb dataset
criminal_incidents_lga_suburb <- read_excel("data/Data_Tables_LGA_Criminal_Incidents_Year_Ending_September_2020.xlsx%3F8rMGzuMnVt5oC9mV_AAn_dmq1tfyPo9T=.xlsx", 
    sheet = "Table 03")

# Criminal incidents by charge status and LGA
criminal_incidents_charge_status <- read_excel("data/Data_Tables_LGA_Criminal_Incidents_Year_Ending_September_2020.xlsx%3F8rMGzuMnVt5oC9mV_AAn_dmq1tfyPo9T=.xlsx", 
    sheet = "Table 05")

```

```{r}
# Creating a dataframe of suburbs and their respective LGAs
suburb_lga <- criminal_incidents_lga_suburb %>% select(`Suburb/Town Name`, `Local Government Area`) %>% unique
suburb_lga %>% head(10)
```
```{r}
# Lowering and capitalising suburb names in House Median Prices dataset
house_medians$SUBURB <- house_medians$SUBURB %>% tolower() %>% tools::toTitleCase()
house_medians$SUBURB %>% head(10)
```

```{r}
# Joining suburb and LGA dataframe with house median prices
house_medians <- house_medians %>% left_join(suburb_lga, by=c("SUBURB" = "Suburb/Town Name"))

# Rearranging variables within dataframe
house_medians <- house_medians[,c("SUBURB", "Local Government Area", "Jul - Sep 19", "Oct - Dec 19", "Jan - Mar 20", "Apr- Jun 20", "Jul - Sep 20", "No of sales Jul - Sep 20", "No of Sales YTD", "Change % Jul - Sep 19 Jul - Sep 20", "Change % Apr - Jun 20 Jul - Sep 20")]

house_medians %>% head(10)
```

```{r}
# Joining house median prices with criminal incidents by LGA and Suburb
house_medians_criminal_incidents <- house_medians %>% left_join(criminal_incidents_lga_suburb, by=c("SUBURB" = "Suburb/Town Name", "Local Government Area"))

house_medians_criminal_incidents %>% head()
```
```{r}
# Joining house median criminal incidents df created above with criminal incidents charge status
house_medians_criminal_incidents <- house_medians_criminal_incidents %>% left_join(criminal_incidents_charge_status, by = c("Local Government Area", "Year", "Year ending"))

house_medians_criminal_incidents %>% head()
```

<br>
<br>

## **Understand** 


```{r}
# This is the R chunk for the Understand Section
```

Provide explanations here. 

<br>
<br>

##	**Tidy & Manipulate Data I **


```{r}
# This is the R chunk for the Tidy & Manipulate Data I 

```

Provide explanations here. 

<br>
<br>

## **Tidy & Manipulate Data II** 

```{r}
# This is the R chunk for the Tidy & Manipulate Data II 

```

Provide explanations here. 

<br>
<br>

##	**Scan I **

```{r}
# This is the R chunk for the Scan I

```

Provide explanations here. 

<br>
<br>

##	**Scan II**

```{r}
# This is the R chunk for the Scan II

```

Provide explanations here. 

<br>
<br>

##	**Transform **

```{r}
# This is the R chunk for the Transform Section

```

Provide explanations here. 



<br>
<br>

